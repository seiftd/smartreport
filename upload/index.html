<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>SmartReport Pro - Transform Your Data into Professional Reports</title>
    <meta name="description" content="Transform Your Data into Professional Reports in Minutes. No-code SaaS platform for businesses to generate stunning reports from various data sources.">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles/main.css?v=6">
    <link rel="stylesheet" href="styles/components.css?v=6">
    <link rel="stylesheet" href="styles/responsive.css?v=6">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="logo.jpg" alt="SmartReport Pro" class="nav-logo">
                <span>SmartReport Pro</span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="#features" class="nav-link">Features</a>
                <a href="#pricing" class="nav-link">Pricing</a>
                <a href="#contact" class="nav-link">Contact</a>
                <div class="nav-auth">
                    <button class="btn btn-outline" id="signin-btn">Sign In</button>
                    <button class="btn btn-primary" id="get-started-btn">Get Started</button>
                </div>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title">
                    Transform Your Data into 
                    <span class="gradient-text">Professional Reports</span>
                    in Minutes
                </h1>
                <p class="hero-description">
                    The no-code SaaS platform that enables businesses to automatically generate 
                    stunning, professional reports from various data sources without technical expertise.
                </p>
                <div class="hero-actions">
                    <button class="btn btn-primary btn-large" id="hero-signup">
                        Get Started
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <button class="btn btn-outline btn-large" id="demo-btn">
                        <i class="fas fa-play"></i>
                        Watch Demo
                    </button>
                </div>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number">10K+</span>
                        <span class="stat-label">Reports Generated</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">500+</span>
                        <span class="stat-label">Happy Customers</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">99.9%</span>
                        <span class="stat-label">Uptime</span>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <img src="banner.jpg" alt="SmartReport Pro Dashboard" class="hero-banner">
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <div class="section-header">
                <h2>Powerful Features for Every Business</h2>
                <p>Everything you need to create professional reports without technical expertise</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-upload"></i>
                    </div>
                    <h3>Easy Data Import</h3>
                    <p>Drag & drop Excel/CSV files with support for multiple data formats and automatic validation.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>Professional Templates</h3>
                    <p>5+ pre-designed templates for Business, Marketing, and Financial reports with customizable branding.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Smart Visualizations</h3>
                    <p>Create beautiful charts, data tables, and key metric cards with our intelligent visualization engine.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-download"></i>
                    </div>
                    <h3>Export & Share</h3>
                    <p>Export to PDF with professional layouts, download as Excel, or share with secure view-only links.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Team Collaboration</h3>
                    <p>Manage your team, share reports, and collaborate on projects with advanced user management.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Secure & Private</h3>
                    <p>Enterprise-grade security with data encryption and privacy controls to protect your information.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing" id="pricing">
        <div class="container">
            <div class="section-header">
                <h2>Simple, Transparent Pricing</h2>
                <p>Choose the plan that fits your business needs</p>
            </div>
            <div class="pricing-grid">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Free</h3>
                        <div class="price">
                            <span class="currency">$</span>
                            <span class="amount">0</span>
                            <span class="period">/month</span>
                        </div>
                    </div>
                    <ul class="pricing-features">
                        <li><i class="fas fa-check"></i> 3 reports per month</li>
                        <li><i class="fas fa-check"></i> Basic templates</li>
                        <li><i class="fas fa-check"></i> Standard export quality</li>
                        <li><i class="fas fa-check"></i> Community support</li>
                    </ul>
                    <button class="btn btn-outline btn-full">Get Started</button>
                </div>
                <div class="pricing-card featured">
                    <div class="pricing-badge">Most Popular</div>
                    <div class="pricing-header">
                        <h3>Pro</h3>
                        <div class="price">
                            <span class="currency">$</span>
                            <span class="amount">19</span>
                            <span class="period">/month</span>
                        </div>
                    </div>
                    <ul class="pricing-features">
                        <li><i class="fas fa-check"></i> Unlimited reports</li>
                        <li><i class="fas fa-check"></i> All templates</li>
                        <li><i class="fas fa-check"></i> Priority support</li>
                        <li><i class="fas fa-check"></i> Brand removal</li>
                        <li><i class="fas fa-check"></i> Advanced analytics</li>
                    </ul>
                    <button class="btn btn-primary btn-full">Get Started</button>
                </div>
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Business</h3>
                        <div class="price">
                            <span class="currency">$</span>
                            <span class="amount">49</span>
                            <span class="period">/month</span>
                        </div>
                    </div>
                    <ul class="pricing-features">
                        <li><i class="fas fa-check"></i> Everything in Pro</li>
                        <li><i class="fas fa-check"></i> Team collaboration</li>
                        <li><i class="fas fa-check"></i> White-label options</li>
                        <li><i class="fas fa-check"></i> Advanced analytics</li>
                        <li><i class="fas fa-check"></i> API access</li>
                    </ul>
                    <button class="btn btn-outline btn-full">Contact Sales</button>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Transform Your Data?</h2>
                <p>Join thousands of businesses already using SmartReport Pro to create stunning reports</p>
                <button class="btn btn-primary btn-large" id="cta-signup">
                    Start Your Free Trial
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="logo.jpg" alt="SmartReport Pro" class="footer-logo-img">
                        <span>SmartReport Pro</span>
                    </div>
                    <p>Transform your data into professional reports in minutes.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Product</h4>
                        <a href="#features">Features</a>
                        <a href="#pricing">Pricing</a>
                        <a href="#templates">Templates</a>
                        <a href="#api">API</a>
                    </div>
                    <div class="footer-column">
                        <h4>Company</h4>
                        <a href="#about">About</a>
                        <a href="#blog">Blog</a>
                        <a href="#careers">Careers</a>
                        <a href="#contact">Contact</a>
                    </div>
                    <div class="footer-column">
                        <h4>Support</h4>
                        <a href="#help">Help Center</a>
                        <a href="#docs">Documentation</a>
                        <a href="#status">Status</a>
                        <a href="#community">Community</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SmartReport Pro. All rights reserved.</p>
                <div class="footer-legal">
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Login to SmartReport Pro</h3>
                <button class="modal-close" id="login-close">&times;</button>
            </div>
            <form class="auth-form" id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Login</button>
                <div class="auth-divider">
                    <span>or</span>
                </div>
                <button type="button" class="btn btn-google btn-full" id="google-login-btn">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
                <p class="auth-switch">
                    Don't have an account? <a href="javascript:void(0)" id="switch-to-signup">Sign up</a>
                </p>
            </form>
        </div>
    </div>

    <div class="modal" id="signup-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Your Account</h3>
                <button class="modal-close" id="signup-close">&times;</button>
            </div>
            <form class="auth-form" id="signup-form">
                <div class="form-group">
                    <label for="signup-name">Full Name</label>
                    <input type="text" id="signup-name" required>
                </div>
                <div class="form-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" required>
                </div>
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" required>
                </div>
                <div class="form-group">
                    <label for="signup-company">Company (Optional)</label>
                    <input type="text" id="signup-company">
                </div>
                <button type="submit" class="btn btn-primary btn-full">Create Account</button>
                <div class="auth-divider">
                    <span>or</span>
                </div>
                <button type="button" class="btn btn-google btn-full" id="google-signup-btn">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
                <p class="auth-switch">
                    Already have an account? <a href="javascript:void(0)" id="switch-to-login">Login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDkrrYJZc2cSSuwovTaCHvksSYnRVOOFgs",
            authDomain: "smartreport-pro.firebaseapp.com",
            projectId: "smartreport-pro",
            storageBucket: "smartreport-pro.firebasestorage.app",
            messagingSenderId: "990789201953",
            appId: "1:990789201953:web:20b4c0b3a5610a4e61b360",
            measurementId: "G-B5KLV37LEQ"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const analytics = firebase.analytics();
        const googleProvider = new firebase.auth.GoogleAuthProvider();

        // Configure Google provider
        googleProvider.setCustomParameters({
            prompt: 'select_account'
        });

        // Google Sign-in function using redirect (more reliable)
        window.signInWithGoogle = async () => {
            try {
                console.log('🔥 Starting Google sign-in with redirect...');
                console.log('🔥 Firebase auth object:', auth);
                console.log('🔥 Google provider:', googleProvider);
                
                // Use redirect instead of popup to avoid conflicts
                await auth.signInWithRedirect(googleProvider);
                
                // This will redirect the page, so we won't reach here
                console.log('🔄 Redirecting to Google...');
                
            } catch (error) {
                console.error('❌ Google sign-in failed:', error);
                alert('Google sign-in failed: ' + error.message);
            }
        };

          // Update landing page for logged-in users
          window.updateLandingPageForLoggedInUser = (user) => {
              // Update navigation
              const navAuth = document.querySelector('.nav-auth');
              if (navAuth) {
                  navAuth.innerHTML = `
                      <div class="user-menu" onclick="showUserMenu()">
                          <div class="user-avatar">${(user.name || 'U').charAt(0).toUpperCase()}</div>
                          <div class="user-info">
                              <div class="user-name">${user.name || 'User'}</div>
                              <div class="user-email">${user.email || 'user@example.com'}</div>
                          </div>
                      </div>
                  `;
              }
              
              // Update hero buttons
              const heroButtons = document.querySelector('.hero-buttons');
              if (heroButtons) {
                  heroButtons.innerHTML = `
                      <a href="dashboard.html" class="btn btn-primary btn-large">
                          <i class="fas fa-rocket"></i>
                          Get Started
                      </a>
                      <a href="dashboard.html" class="btn btn-outline btn-large">
                          <i class="fas fa-plus"></i>
                          Create Report
                      </a>
                  `;
              }
              
              // Update hero title
              const heroTitle = document.querySelector('.hero-title');
              if (heroTitle) {
                  heroTitle.innerHTML = `Welcome back, <span class="text-primary">${user.name || 'User'}</span>!<br>Ready to create more reports?`;
              }
          };

          // Handle redirect result when page loads
          window.handleGoogleRedirect = async () => {
            try {
                console.log('🔄 Checking for Google redirect result...');
                const result = await auth.getRedirectResult();
                
                if (result.credential) {
                    console.log('✅ Google redirect successful:', result.user);
                    
                    const user = result.user;
                    const idToken = await user.getIdToken();
                    
                    // Store user data
                    const userData = {
                        uid: user.uid,
                        email: user.email,
                        name: user.displayName,
                        photoURL: user.photoURL
                    };
                    
                    localStorage.setItem('smartreport_user', JSON.stringify(userData));
                    localStorage.setItem('smartreport_token', idToken);
                    
                    console.log('✅ User data stored, redirecting to dashboard...');
                    
                    // Redirect to dashboard immediately
                    window.location.href = 'dashboard.html';
                    return true;
                } else {
                    console.log('ℹ️ No Google redirect result found');
                }
            } catch (error) {
                console.error('❌ Google redirect failed:', error);
            }
            return false;
        };

        // Check for redirect result when page loads
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('🔥 DOM loaded, checking for Google redirect result...');
            
              // Check if user is already logged in
              const existingUser = localStorage.getItem('smartreport_user');
              if (existingUser) {
                  console.log('✅ User already logged in, updating landing page for logged-in user');
                  // Update the landing page to show logged-in state
                  window.updateLandingPageForLoggedInUser(JSON.parse(existingUser));
              }
            
            // Check if we're returning from Google redirect
            const redirectResult = await window.handleGoogleRedirect();
            if (redirectResult) {
                console.log('✅ Google redirect successful, processing result...');
                return;
            }
            
            console.log('🔥 Setting up Google buttons...');
            
            // Get Started button
            const getStartedBtn = document.getElementById('get-started-btn');
            if (getStartedBtn) {
                console.log('✅ Found Get Started button');
                getStartedBtn.addEventListener('click', function(e) {
                    console.log('🖱️ Get Started button clicked');
                    e.preventDefault();
                    // Show the signup modal
                    document.getElementById('signup-modal').classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            } else {
                console.log('❌ Get Started button not found');
            }
            
            // Sign In button
            const signinBtn = document.getElementById('signin-btn');
            if (signinBtn) {
                console.log('✅ Found Sign In button');
                signinBtn.addEventListener('click', function(e) {
                    console.log('🖱️ Sign In button clicked');
                    e.preventDefault();
                    // Show the login modal
                    document.getElementById('login-modal').classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            } else {
                console.log('❌ Sign In button not found');
            }
            
            // Google buttons in modals
            const googleLoginBtn = document.getElementById('google-login-btn');
            const googleSignupBtn = document.getElementById('google-signup-btn');
            
            if (googleLoginBtn) {
                console.log('✅ Found Google login button');
                googleLoginBtn.addEventListener('click', function(e) {
                    console.log('🖱️ Google login button clicked');
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Prevent multiple clicks
                    if (googleLoginBtn.disabled) return;
                    googleLoginBtn.disabled = true;
                    googleLoginBtn.textContent = 'Redirecting...';
                    
                    setTimeout(() => {
                        window.signInWithGoogle();
                    }, 100);
                });
            }
            
            if (googleSignupBtn) {
                console.log('✅ Found Google signup button');
                googleSignupBtn.addEventListener('click', function(e) {
                    console.log('🖱️ Google signup button clicked');
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Prevent multiple clicks
                    if (googleSignupBtn.disabled) return;
                    googleSignupBtn.disabled = true;
                    googleSignupBtn.textContent = 'Redirecting...';
                    
                    setTimeout(() => {
                        window.signInWithGoogle();
                    }, 100);
                });
            }
            
            // Modal close handlers
            const signupClose = document.getElementById('signup-close');
            const loginClose = document.getElementById('login-close');
            
            if (signupClose) {
                signupClose.addEventListener('click', function() {
                    document.getElementById('signup-modal').classList.remove('active');
                    document.body.style.overflow = '';
                });
            }
            
            if (loginClose) {
                loginClose.addEventListener('click', function() {
                    document.getElementById('login-modal').classList.remove('active');
                    document.body.style.overflow = '';
                });
            }
            
            // Switch between login and signup
            const switchToLogin = document.getElementById('switch-to-login');
            const switchToSignup = document.getElementById('switch-to-signup');
            
            if (switchToLogin) {
                switchToLogin.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.getElementById('signup-modal').classList.remove('active');
                    document.getElementById('login-modal').classList.add('active');
                });
            }
            
            if (switchToSignup) {
                switchToSignup.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.getElementById('login-modal').classList.remove('active');
                    document.getElementById('signup-modal').classList.add('active');
                });
            }
        });

        // Make Firebase available globally
        window.firebaseAuth = {
            auth,
            googleProvider,
            signInWithPopup: auth.signInWithPopup.bind(auth),
            signOut: auth.signOut.bind(auth)
        };
    </script>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/filepond@^4/dist/filepond.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="js/app.js?v=6"></script>
    <script src="js/auth.js?v=6"></script>
    <script src="js/charts.js?v=3"></script>
</body>
</html>
